<krpano version="1.19" title="Virtual Tour">

	<include url="skin/vtourskin.xml" />
	<include url="plugins/callout.xml"/>
	<include url="plugins/circle_hotspots.xml"/>
	<include url="plugins/circle_hotspots_display.xml"/>
	<include url="plugins/pop-up.xml"/>
	<plugin name="easy_html_lightbox" url="plugins/easy_html_lightbox.js" keep="true" devices="html5" include_jquery="true" include_lightbox="true" theme="light" background_color="#1e1e1e"/>


	<!--  LAYER für Lightbox  -->
	<layer name="lightbox-overlay" parent="" type="container" style="style-lightbox-overlay" align="center" edge="" keep="true" enabled="true" visible="false" bgcapture="true" alpha="1" scale="1" zorder="999"/>
	<style name="style-lightbox-overlay" x="0" y="0" width="100%" height="100%" vcenter="true" padding="0" bg="true" bgcolor="0x000000" bgalpha="0.5" bgborder="0 0xFFFFFF 1.0" bgroundedge="0" bgshadow="" onclick="set(layer[lightbox-overlay].visible, false); tween(layer[lightbox-layer].scale, 0);"/>
	<layer name="lightbox-layer" parent="lightbox-overlay" type="container" style="style-lightbox-layer" align="center" edge="" keep="true" enabled="true" visible="true" bgcapture="true" alpha="1" scale="0"/>
	<style name="style-lightbox-layer" x="0" y="0" width="80%" height="70%" vcenter="true" padding="0" bg="true" bgcolor="0xFFFFFF" bgalpha="0.5" bgborder="1 0xFFFFFF 1.0" bgroundedge="0" bgshadow=""/>

	<!--  LAYER für Schließen-Button  -->
	<layer name="close-lightbox-layer" parent="lightbox-layer" style="close-lightbox-layer-style"/>
	<style name="close-lightbox-layer-style" type="container" url="%FIRSTXML%/logos/x-button-weiss.png" bgcapture="false" align="topright" keep="true" enabled="true" visible="true" width="25" height="25" x="-25" y="-25" scale="1" zorder="501" onhover="showtext(Schließen);" onclick="set(layer[lightbox-overlay].visible, false); tween(layer[lightbox-layer].scale, 0);"/>
	<action name="open-lightboxlayer">     autorotate.stop();     set(layer[lightbox-overlay].visible, true);     tween(layer[lightbox-layer].scale, 1);     plugin[easy_html_lightbox].open_url('%1','','','','','layer[lightbox-layer]'); </action>
	<action 
		name="close-lightboxlayer"> set(layer[lightbox-overlay].visible, false); tween(layer[lightbox-layer].scale, 0); pauseallsounds(); 
	</action>

	<callout 
		key="FXsqTqaGNSZER5dSETEm+VzQEh9sWSa5DZMFsSmMxYV9GcXs8W3R8A/mWXrG
			NUceXvrihmh28hfRF1ivrW0HMzEychPvNiD8B/4/ZzDaUE9Rh6Ig22aKJGDb
			ja1/kYIqmc/VKfItRE2RTSOIbIroxOtsz626NIpxWksAAifwhpNwuPXqDQpz
			2sRUMBzoPqZktpkItoSenN2mKd8Klfx7pOuB6CIK3e1CDXgyndqOt2mWybLZ
			cU/wfJVAecfxk15ghiqrzaDsbqrdABDowg==" 
		size="10" 
		color="0xffffff"
		rotate="45"
		distancepopup="5"   
		min_fov="180" 
		max_fov="0" 
		line_lenght="100"
		line_width="2" 
		shape="round"
		circle_active_width="50"
		animation="center_screen" 
		text_width="300"
		callout_bg_border="0,0,0,2"
		text_x="10"
		css_title="color:#fff;font-size:17px;"
		css_text="color:#fff;font-size:14px;text-shadow: 3px 3px 8px #000000;"
		title_background="0xb50000"
		text_background=""
		title_padding="10"
		text_padding="10 10 0 0"
	/>

	<layer 
		name="skin_logo" 
		url="skin/logo_2.png" 
		keep="true" 
		scale="0.5" 
		x="+0" y="-70" 
		align="topleft" 
		enabled="true" 
		alpha="0"
	/>

	<style name="infospot"
		renderer="webgl"
		type="text"
		css="color:#FFFFFF; font-size:16px; font-weight:bold; text-align:center;"
		width="80" height="80"
		bgroundedge="42"
		bgalpha="0.75"
		bgcolor="0x555555"
		bgborder="1 0xFFFFFF 1"
		bgshadow="0 0 16 0x0 0.5"
		txtshadow="0 0 3 0x0 1.0"
		mergedalpha="false"
		vcenter="true"
		oversampling="2"
		mipmapping="true"
		zoom="true"
		capture="false"
		/>

	<layer name="intro" type="container" keep="true" width="100%" height="100%" bgcolor="0x000000" bgalpha="0.6" zorder="9999" enabled="true" bgcapture="true" onloaded="on_intro_loaded()" onclick="on_intro_click()" >
		<layer name="intro_logo" url="skin/logo_2.png" enabled="false" scale="1.0" alpha="0" y="-150" align="center" />
		<layer name="intro_guide" url="skin/guide-removebg-preview.png" enabled="false" scale="1.0" alpha="0" y="+90" align="center" />
	</layer>

	<!--  -->
	<layer name="btn_info"
       url="skin/btn_info.png"
       keep="true"
       align="bottomright"
	   x="+40" y="+40" 
       width="30" height="30"
       onclick="show_info_popup();"
	/>

	<layer name="info_popup"
       type="container"
       align="center"
       width="80%"
       height="90%"
       bgcolor="0x000000"
       bgalpha="0.8"
       visible="false"
       enabled="false"
       keep="true"
       zorder="1000"
       scrolling="auto"
       css="overflow:auto; max-height:600px; margin: 20px auto; padding: 20px; border-radius: 10px;">


    <!-- Nút đóng popup -->
    <layer name="btn_close"
           url="skin/btn_close.png"
           align="topright"
           x="-100" y="0"
           width="25" height="25"
		   bgcolor="000000"
           onclick="hide_info_popup();"
    />

    <!-- Hình ảnh trong popup -->
   <layer name="info_image"
       url="skin/duong-sach.jpg"
       align="top"
       width="100%"
       height="60%"
	/>

  <!-- Text content in the popup -->
<layer name="info_text"
    type="text"
    align="bottom"
    width="100%"
    height="40%"
    html="Saigon Book Street, located in District 1, Ho Chi Minh City, is a vibrant cultural hub dedicated to promoting the love of reading. Established to encourage literacy and intellectual exchange, the street is lined with bookstores, publishing houses, and cozy cafés, making it a favorite destination for book enthusiasts of all ages. Visitors can explore a wide variety of books, from Vietnamese literature to international bestsellers, and even rare collectibles. The street regularly hosts book fairs, author signings, and literary discussions, creating a dynamic space for creativity and learning. Whether you are a casual reader or a passionate bibliophile, Saigon Book Street offers an enriching and immersive experience in the world of books."
    scrolling="auto"
    css="color:#000000; font-size:18px; text-align:justify; overflow:auto; padding:20px;
			background-color: rgba(255, 255, 255, 0.9); margin: 0 auto;
			border-radius: 15px; 
			line-height: 1.6;"
/>



	</layer>

	<!-- customize skin settings: maps, gyro, webvr, thumbnails, tooltips, layout, design, ... -->
	<skin_settings maps="false"
	               maps_type="google"
	               maps_bing_api_key=""
	               maps_google_api_key=""
	               maps_zoombuttons="false"
	               gyro="true"
	               webvr="true"
	               webvr_gyro_keeplookingdirection="false"
	               webvr_prev_next_hotspots="true"
	               littleplanetintro="false"
	               title="true"
	               thumbs="true"
	               thumbs_width="120" thumbs_height="80" thumbs_padding="10" thumbs_crop="0|40|240|160"
	               thumbs_opened="false"
	               thumbs_text="false"
	               thumbs_dragging="true"
	               thumbs_onhoverscrolling="false"
	               thumbs_scrollbuttons="false"
	               thumbs_scrollindicator="false"
	               thumbs_loop="false"
	               tooltips_buttons="false"
	               tooltips_thumbs="false"
	               tooltips_hotspots="false"
	               tooltips_mapspots="false"
	               deeplinking="false"
	               loadscene_flags="MERGE"
	               loadscene_blend="OPENBLEND(0.5, 0.0, 0.75, 0.05, linear)"
	               loadscene_blend_prev="SLIDEBLEND(0.5, 180, 0.75, linear)"
	               loadscene_blend_next="SLIDEBLEND(0.5,   0, 0.75, linear)"
	               loadingtext="loading..."
	               layout_width="100%"
	               layout_maxwidth="814"
	               controlbar_width="-24"
	               controlbar_height="40"
	               controlbar_offset="20"
	               controlbar_offset_closed="-40"
	               controlbar_overlap.no-fractionalscaling="10"
	               controlbar_overlap.fractionalscaling="0"
	               design_skin_images="vtourskin.png"
	               design_bgcolor="0x2D3E50"
	               design_bgalpha="0.8"
	               design_bgborder="0"
	               design_bgroundedge="1"
	               design_bgshadow="0 4 10 0x000000 0.3"
	               design_thumbborder_bgborder="3 0xFFFFFF 1.0"
	               design_thumbborder_padding="2"
	               design_thumbborder_bgroundedge="0"
	               design_text_css="color:#FFFFFF; font-family:Arial;"
	               design_text_shadow="1"
	               />

	<!--
	    For an alternative skin design either change the <skin_settings> values 
	    from above or optionally include one of the predefined designs from below.
	-->

	<include url="skin/vtourskin_design.xml" />

	<scene name="scene_nha-sach" title="Book Street" onstart="" thumburl="panos/nha-sach.tiles/thumb.jpg" lat="" lng="" heading="">
		<view hlookat="-211.702" vlookat="0.000" fovtype="MFOV" fov="85.418" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-34.695" vlookatmax="34.695" />
		<preview url="panos/nha-sach.tiles/preview.jpg" />
		<image>
			<cube url="panos/nha-sach.tiles/pano_%s.jpg" />
		</image>
		<hotspot name="scene_nha-tho-duc-ba" style="hs_circle" ath="149.739" atv="1.023" linkedscene="scene_nha-tho-duc-ba" tag="Discover now" />
		<hotspot name="callout_nha-tho-duc-ba-3d" url="skin/target.gif" renderer="css3d" scale="0.7" width="100" height="100" preload="true" ath="150.372" atv="-9.089" onclick="open-lightboxlayer('%CURRENTXML%/nha-tho-duc-ba-en.html', 'width:100%;height:100%;');"/>
		<hotspot name="callout_nha-tho-duc-ba" style="callout" ath="149.372" atv="1.089" title="Information about Notre-Dame Cathedral" content="Notre-Dame Cathedral Basilica of Saigon, commonly known as Notre-Dame Cathedral, is the cathedral of the Archdiocese of Saigon. The church is not only a symbol of Catholicism in Vietnam but also one of the unique architectural landmarks of Ho Chi Minh City and a popular destination for tourists." />
		<hotspot name="spot2" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="149.705" atv="21.197" onclick="skin_loadscene(scene_nha-tho-duc-ba, get(skin_settings.loadscene_blend))" />

		<hotspot name="scene_BookStreet2" style="hs_circle" ath="-18.182" atv="1.303" linkedscene="scene_BookStreet2" tag="Discover now" />
		<hotspot name="callout_BookStreet2" style="callout" ath="-18.182" atv="1.303" linkedscene="scene_BookStreet2" title="Ho Chi Minh City Book Street Gate 2" content="Ho Chi Minh City Book Street – A cultural space for book lovers, where great works gather and readers connect with authors!" /> />
		<hotspot name="spot1" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-19.927" atv="18.993" onclick="skin_loadscene(scene_BookStreet2, get(skin_settings.loadscene_blend))" />

	</scene>

	<scene name="scene_BookStreet2" title="BookStreet2" onstart="" thumburl="panos/BookStreet2.tiles/thumb.jpg" lat="" lng="" heading="">

		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-32.875" vlookatmax="32.875" />

		<preview url="panos/BookStreet2.tiles/preview.jpg" />

		<image>
			<cube url="panos/BookStreet2.tiles/pano_%s.jpg" />
		</image>
		<hotspot name="scene_nha-sach" style="hs_circle" ath="-12.636" atv="5.406" linkedscene="scene_nha-sach" tag="Discover now" />
		<hotspot name="callout_nha-sach" style="callout" ath="-12.636" atv="5.406" linkedscene="scene_nha-sach" title="Ho Chi Minh City Book Street Gate 1" content="Ho Chi Minh City Book Street – A cultural space for book lovers, where great works gather and readers connect with authors!" />
		<hotspot name="spot1" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-12.636" atv="25.406" onclick="skin_loadscene(scene_nha-sach, get(skin_settings.loadscene_blend))" />

		<hotspot name="scene_diamond" style="hs_circle" ath="132.340" atv="5.849" linkedscene="scene_diamond" tag="Discover now" />
		<hotspot name="callout_diamond" style="callout"  ath="132.340" atv="5.849" linkedscene="scene_diamond" title="Diamond Plaza" content="Diamond Plaza – A bustling commercial center in the heart of Saigon, offering shopping, entertainment, and modern workspaces." />
		<hotspot name="spot3" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);"  ath="132.340" atv="20.849" onclick="skin_loadscene(scene_diamond, get(skin_settings.loadscene_blend))" />
	</scene>

	<!-- diamond -->
	<scene name="scene_diamond" title="diamond" onstart="" thumburl="panos/diamond.tiles/thumb.jpg" lat="" lng="" heading="">
		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-33.635" vlookatmax="33.635" />

		<preview url="panos/diamond.tiles/preview.jpg" />

		<image>
			<cube url="panos/diamond.tiles/pano_%s.jpg" />
		</image>

		<hotspot name="scene_nha-tho-duc-ba" style="hs_circle" ath="147.433" atv="3.891" linkedscene="scene_nha-tho-duc-ba" tag="Discover now" />
		<hotspot name="callout_nha-tho-duc-ba" style="callout" ath="147.433" atv="3.891" linkedscene="scene_nha-sach" title="Notre-Dame Cathedral (Saigon)" content="Notre-Dame Cathedral (Saigon)" />
		<hotspot name="spot2" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="145.075" atv="20.218" onclick="skin_loadscene(scene_nha-tho-duc-ba, get(skin_settings.loadscene_blend))" />
		
		<hotspot name="scene_nha-sach" style="hs_circle" ath="105.769" atv="3.891" linkedscene="scene_nha-sach" tag="Discover now" />
		<hotspot name="callout_nha-sach" style="callout" ath="105.769" atv="3.891" linkedscene="scene_nha-sach" title="Ho Chi Minh City Book Street Gate 1" content="Ho Chi Minh City Book Street – A cultural space for book lovers, where great works gather and readers connect with authors!" />
		<hotspot name="spot1" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="110.041" atv="24.164" onclick="skin_loadscene(scene_nha-sach, get(skin_settings.loadscene_blend))" />

		<hotspot name="scene_30April" style="hs_circle" ath="-165.705" atv="7.965" linkedscene="scene_30April" tag="Discover now" />
		<hotspot name="callout_30April" style="callout" ath="-165.705" atv="7.965" linkedscene="scene_30April" title="April 30th Park - 1" content="A green space in the heart of Ho Chi Minh City, perfect for relaxing and people-watching." />
		<hotspot name="spot3" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);"  ath="-161.665" atv="22.517" onclick="skin_loadscene(scene_30April, get(skin_settings.loadscene_blend))" />
	</scene>

	<!-- Nha tho duc ba -->
	<scene name="scene_nha-tho-duc-ba" title="Notre-Dame Cathedral Basilica of Saigon" onstart="" thumburl="panos/nha-tho-duc-ba.tiles/thumb.jpg" lat="" lng="" heading="">
		<view hlookat="0.237" vlookat="0.000" fovtype="MFOV" fov="84.034" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-34.047" vlookatmax="34.047"/>
		<preview url="panos/nha-tho-duc-ba.tiles/preview.jpg"/>
		<image>
		<cube url="panos/nha-tho-duc-ba.tiles/pano_%s.jpg"/>
		</image>
		<hotspot name="scene_nha-sach" style="hs_circle" ath="30.000" atv="10.000" linkedscene="scene_nha-sach" tag="Discover now" />
		<hotspot name="callout_nha-sach" style="callout" ath="30.000" atv="10.000" linkedscene="scene_nha-sach" title="Ho Chi Minh City Book Street Gate 1" content="Ho Chi Minh City Book Street – A cultural space for book lovers, where great works gather and readers connect with authors!" />
		<hotspot name="spot1" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="29.480" atv="22.055" onclick="skin_loadscene(scene_nha-sach, get(skin_settings.loadscene_blend))" />

		<hotspot name="scene_30April" style="hs_circle" ath="-41.937" atv="14.127" linkedscene="scene_30April" tag="Discover now" />
		<hotspot name="callout_30April" style="callout" ath="-41.937" atv="14.127" linkedscene="scene_30April" title="April 30th Park - 1" content="A green space in the heart of Ho Chi Minh City, perfect for relaxing and people-watching." />
		<hotspot name="spot2" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-42.300" atv="25.286" onclick="skin_loadscene(scene_30April, get(skin_settings.loadscene_blend))" />

		<hotspot name="callout_nha-tho-duc-ba" url="skin/target.gif" renderer="css3d" scale="0.7" width="100" height="100" preload="true" ath="-5.279" atv="-16.202" onclick="open-lightboxlayer('%CURRENTXML%/nha-tho-duc-ba-en.html', 'width:100%;height:100%;');" title="Information about Notre-Dame Cathedral" content="Notre-Dame Cathedral Basilica of Saigon, commonly known as Notre-Dame Cathedral, is the cathedral of the Archdiocese of Saigon. The church is not only a symbol of Catholicism in Vietnam but also one of the unique architectural landmarks of Ho Chi Minh City and a popular destination for tourists." />

		<hotspot name="scene_PostStation1" style="hs_circle" ath="55.798" atv="10.220" linkedscene="scene_PostStation1" tag="Discover now" />
		<hotspot name="callout_PostStation1" style="callout" ath="55.798" atv="10.220" linkedscene="scene_PostStation1" title="Saigon Central Post Office" content="A historic architectural gem of Ho Chi Minh City, the Saigon Central Post Office blends French colonial design with vibrant local culture." />
		<hotspot name="spot3" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="56.257" atv="30.361" onclick="skin_loadscene(scene_PostStation1, get(skin_settings.loadscene_blend))" />

		<hotspot name="scene_pho-di-bo-NH-3" style="hs_circle" ath="173.970" atv="7.408" linkedscene="scene_pho-di-bo-NH-3" tag="Discover now" />
		<hotspot name="scene_pho-di-bo-NH-3" style="callout" ath="173.970" atv="7.408" linkedscene="scene_pho-di-bo-NH-3" title="Nguyen Hue Walking Street" content="A vibrant pedestrian street in the heart of Ho Chi Minh City, where locals and tourists enjoy music, street performances, and cultural events." />
		<hotspot name="spot3" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="173.970" atv="24.408" onclick="skin_loadscene(scene_pho-di-bo-NH-3, get(skin_settings.loadscene_blend))" />
	</scene>

	<!-- 30/4 1 -->
	<scene name="scene_30April" title="30April" onstart="" thumburl="panos/30April.tiles/thumb.jpg" lat="" lng="" heading="">

		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-32.363" vlookatmax="32.363" />

		<preview url="panos/30April.tiles/preview.jpg" />

		<image>
			<cube url="panos/30April.tiles/pano_%s.jpg" />
		</image>

		<hotspot name="scene_nha-tho-duc-ba" style="hs_circle" ath="3.998" atv="-10.751" linkedscene="scene_nha-tho-duc-ba" tag="Discover now" />
		<hotspot name="callout_nha-tho-duc-ba" style="callout" ath="3.998" atv="-10.751" linkedscene="scene_nha-tho-duc-ba" title="Notre-Dame Cathedral (Saigon)" content="Notre-Dame Cathedral (Saigon)" />
		<hotspot name="spot2" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="3.998" atv="20.751" onclick="skin_loadscene(scene_nha-tho-duc-ba, get(skin_settings.loadscene_blend))" />
		
		<hotspot name="scene_cong-vien-30-thang-4" style="hs_circle" ath="-250.264" atv="9.800" linkedscene="scene_cong-vien-30-thang-4" tag="Discover now" />
		<hotspot name="callout_cong-vien-30-thang-4" style="callout" ath="-250.264" atv="9.800" linkedscene="scene_cong-vien-30-thang-4" title="April 30th Park - 2" content="A green space in the heart of Ho Chi Minh City, perfect for relaxing and people-watching." />
		<hotspot name="spot3" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-250.264" atv="25.800" onclick="skin_loadscene(scene_cong-vien-30-thang-4, get(skin_settings.loadscene_blend))" />

		<hotspot name="scene_diamond" style="hs_circle" ath="-89.449" atv="0.979" linkedscene="scene_diamond" tag="Discover now" />
		<hotspot name="callout_diamond" style="callout" ath="-89.449" atv="0.979" linkedscene="scene_diamond" title="Diamond Place" content="Diamond Place" />
		<hotspot name="spot1" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-89.449" atv="20.979" onclick="skin_loadscene(scene_diamond, get(skin_settings.loadscene_blend))" />
	</scene>


	<!-- 30/4 2 -->
	<scene name="scene_cong-vien-30-thang-4" title="April 30th Park" onstart="" thumburl="panos/cong-vien-30-thang-4.tiles/thumb.jpg" lat="" lng="" heading="">
		<view hlookat="17.249" vlookat="0.000" fovtype="MFOV" fov="83.088" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-33.607" vlookatmax="33.607"/>
		<preview url="panos/cong-vien-30-thang-4.tiles/preview.jpg"/>
		<image>
		<cube url="panos/cong-vien-30-thang-4.tiles/pano_%s.jpg"/>
		</image>
		<hotspot name="scene_30April" style="hs_circle" ath="-164.001" atv="5.678" linkedscene="scene_30April" tag="Discover now" />
		<hotspot name="callout_30April" style="callout" ath="-164.001" atv="5.678" linkedscene="scene_30April" title="April 30th Park - 1" content="A green space in the heart of Ho Chi Minh City, perfect for relaxing and people-watching." />
		<hotspot name="spot1" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-99.449" atv="27.979" onclick="skin_loadscene(scene_30April, get(skin_settings.loadscene_blend))" />

		<hotspot name="scene_nha-tho-duc-ba" style="hs_circle" ath="-102.416" atv="0.476" linkedscene="scene_nha-tho-duc-ba" tag="Discover now" />
		<hotspot name="callout_nha-tho-duc-ba" style="callout" ath="-102.416" atv="0.476" linkedscene="scene_nha-sach" title="Notre-Dame Cathedral (Saigon)" content="Notre-Dame Cathedral (Saigon)" />
		<hotspot name="spot2" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-165.922" atv="27.667" onclick="skin_loadscene(scene_nha-sach, get(skin_settings.loadscene_blend))" />
	</scene>

	<!-- Post station -->
	<scene name="scene_PostStation1" title="PostStation1" onstart="" thumburl="panos/PostStation1.tiles/thumb.jpg" lat="" lng="" heading="">
		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-33.870" vlookatmax="33.870" />

		<preview url="panos/PostStation1.tiles/preview.jpg" />

		<image>
			<cube url="panos/PostStation1.tiles/pano_%s.jpg" />
		</image>
		<hotspot name="scene_poststation2" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-11.768" atv="20.866" onclick="skin_loadscene(scene_poststation2, get(skin_settings.loadscene_blend))" />
		
		<hotspot name="scene_nha-sach" style="hs_circle" ath="-104.501" atv="12.324" linkedscene="scene_nha-sach" tag="Discover now" />
		<hotspot name="callout_nha-sach" style="callout" ath="-104.501" atv="12.324" linkedscene="scene_nha-sach" title="Ho Chi Minh City Book Street Gate 1" content="Ho Chi Minh City Book Street – A cultural space for book lovers, where great works gather and readers connect with authors!" />
		<hotspot name="spot1" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-102.646" atv="22.583" onclick="skin_loadscene(scene_nha-sach, get(skin_settings.loadscene_blend))" />

		<hotspot name="scene_nha-tho-duc-ba" style="hs_circle" ath="134.262" atv="12.485" linkedscene="scene_nha-tho-duc-ba" tag="Discover now" />
		<hotspot name="callout_nha-tho-duc-ba" style="callout" ath="134.262" atv="12.485" linkedscene="scene_nha-sach" title="Notre-Dame Cathedral (Saigon)" content="Notre-Dame Cathedral (Saigon)" />
		<hotspot name="spot2" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="135.393" atv="24.577" onclick="skin_loadscene(scene_nha-tho-duc-ba, get(skin_settings.loadscene_blend))" />
	</scene>

	<scene name="scene_PostStation2" title="PostStation2" onstart="" thumburl="panos/PostStation2.tiles/thumb.jpg" lat="" lng="" heading="">

		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-34.228" vlookatmax="34.228" />

		<preview url="panos/PostStation2.tiles/preview.jpg" />

		<image>
			<cube url="panos/PostStation2.tiles/pano_%s.jpg" />
		</image>
		<hotspot name="scene_poststation1" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="5.208" atv="23.114" onclick="skin_loadscene(scene_PostStation1, get(skin_settings.loadscene_blend))" />
		<hotspot name="scene_PostStation3" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-169.034" atv="10.457" onclick="skin_loadscene(scene_PostStation3, get(skin_settings.loadscene_blend))" />

	</scene>

	<scene name="scene_PostStation3" title="PostStation3" onstart="" thumburl="panos/PostStation3.tiles/thumb.jpg" lat="" lng="" heading="">

		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-25.553" vlookatmax="25.553" />

		<preview url="panos/PostStation3.tiles/preview.jpg" />

		<image>
			<cube url="panos/PostStation3.tiles/pano_%s.jpg" />
		</image>
		<hotspot name="scene_poststation2" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="160.612" atv="15.250" onclick="skin_loadscene(scene_poststation2, get(skin_settings.loadscene_blend))" />
	</scene>

	<scene name="scene_PostStation4" title="PostStation4" onstart="" thumburl="panos/PostStation4.tiles/thumb.jpg" lat="" lng="" heading="">

		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-27.071" vlookatmax="27.071" />

		<preview url="panos/PostStation4.tiles/preview.jpg" />

		<image>
			<cube url="panos/PostStation4.tiles/pano_%s.jpg" />
		</image>

	</scene>

	<!-- pho di bo -->
	<scene name="scene_pho-di-bo-NH-1" title="pho-di-bo-NH-1" onstart="" thumburl="panos/pho-di-bo-NH-1.tiles/thumb.jpg" lat="" lng="" heading="">

		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-32.330" vlookatmax="32.330" />

		<preview url="panos/pho-di-bo-NH-1.tiles/preview.jpg" />

		<image>
			<cube url="panos/pho-di-bo-NH-1.tiles/pano_%s.jpg" />
		</image>
		<hotspot name="spot1" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="5.223" atv="12.772" onclick="skin_loadscene(scene_pho-di-bo-nh-4, get(skin_settings.loadscene_blend))" />
		<hotspot name="spot2" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-175.899" atv="14.427" onclick="skin_loadscene(scene_pho-di-bo-nh-2, get(skin_settings.loadscene_blend))" />
	</scene>

	<scene name="scene_pho-di-bo-NH-2" title="pho-di-bo-NH-2" onstart="" thumburl="panos/pho-di-bo-NH-2.tiles/thumb.jpg" lat="" lng="" heading="">

		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-32.606" vlookatmax="32.606" />

		<preview url="panos/pho-di-bo-NH-2.tiles/preview.jpg" />

		<image>
			<cube url="panos/pho-di-bo-NH-2.tiles/pano_%s.jpg" />
		</image>
		<hotspot name="spot1" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-67.123" atv="13.552" onclick="skin_loadscene(scene_pho-di-bo-nh-4, get(skin_settings.loadscene_blend))" />
	</scene>

	<scene name="scene_pho-di-bo-NH-3" title="pho-di-bo-NH-3" onstart="" thumburl="panos/pho-di-bo-NH-3.tiles/thumb.jpg" lat="" lng="" heading="">

		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-33.415" vlookatmax="33.415" />

		<preview url="panos/pho-di-bo-NH-3.tiles/preview.jpg" />

		<image>
			<cube url="panos/pho-di-bo-NH-3.tiles/pano_%s.jpg" />
		</image>
		<hotspot name="spot1" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-147.023" atv="12.423" onclick="skin_loadscene(scene_pho-di-bo-nh-4, get(skin_settings.loadscene_blend))" />
		<hotspot name="spot2" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="31.263" atv="8.727" onclick="skin_loadscene(scene_nha-tho-duc-ba, get(skin_settings.loadscene_blend))" />
	</scene>

	<scene name="scene_pho-di-bo-NH-4" title="pho-di-bo-NH-4" onstart="" thumburl="panos/pho-di-bo-NH-4.tiles/thumb.jpg" lat="" lng="" heading="">

		<view hlookat="0.0" vlookat="0.0" fovtype="MFOV" fov="120" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="range" vlookatmin="-33.996" vlookatmax="33.996" />

		<preview url="panos/pho-di-bo-NH-4.tiles/preview.jpg" />

		<image>
			<cube url="panos/pho-di-bo-NH-4.tiles/pano_%s.jpg" />
		</image>
		<hotspot name="spot1" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="4.400" atv="23.628" onclick="skin_loadscene(scene_pho-di-bo-nh-3, get(skin_settings.loadscene_blend))" />
		<hotspot name="spot2" url="skin/dan_duong.png" onloaded="do_crop_animation(128,128,20);" ath="-176.134" atv="23.223" onclick="skin_loadscene(scene_pho-di-bo-nh-2, get(skin_settings.loadscene_blend))" />
	</scene>

	<!-- Actions -->
	<action name="show_info_popup">
		set(layer[info_popup].visible, true);
		set(layer[info_popup].enabled, true);
		set(layer[btn_close].visible, true);
		set(layer[btn_close].enabled, true);
	</action>

	<action name="hide_info_popup">
		set(layer[info_popup].visible, false);
		set(layer[info_popup].enabled, false);
	</action>


	<action name="on_intro_click">
	 	tween(layer[intro].alpha, 0);
		set(layer[intro].enabled, false);
		set(layer[skin_logo].alpha, 1);
		play_audio();
	</action>

	<action name="on_intro_loaded">
	 	delayedcall(0.5, 
			tween(layer[intro_logo].alpha, 1);
			set(layer[intro_guide].alpha, 1);	
		);
	</action>

	<action name="toggle_flags">
		if(%1 == 'vn', 
			set(layer[vn_flag].enabled, true);
			set(layer[vn_flag].alpha, 1);
			set(layer[en_flag].enabled, false);
			set(layer[en_flag].alpha, 0);
		,
			set(layer[en_flag].enabled, true);
			set(layer[en_flag].alpha, 1);
			set(layer[vn_flag].enabled, false);
			set(layer[vn_flag].alpha, 0);
		);
	</action>


	<action name="play_audio" autorun="onstart">
		playsound(voice, '%CURRENTXML%/audio/audio.mp3', 1, on_voice_finished());
	</action>

	<!-- startup action - load the first scene -->
	<action name="startup" autorun="onstart">
		if(startscene === null OR !scene[get(startscene)], copy(startscene,scene[0].name); );
		loadscene(get(startscene), null, MERGE);
		if(startactions !== null, startactions());
	</action>

	<action name="do_crop_animation" scope="local" args="framewidth, frameheight, framerate">
		<!-- define local variables -->
		calc(local.xframes, (caller.imagewidth /framewidth) BOR 0);
		calc(local.frames, xframes * ((caller.imageheight / frameheight) BOR 0));
		def(local.frame, integer, 0);
		
		<!-- set the first frame -->
		calc(caller.crop, '0|0|' + framewidth + '|' + frameheight);
		
		<!-- do the animation -->
		setinterval(calc('crop_anim_' + caller.name), calc(1.0 / framerate),
			if(caller.loaded,
				inc(frame);
				if(frame GE frames, if(caller.onlastframe !== null, callwith(caller, onlastframe() ) ); set(frame,0); );
				mod(xpos, frame, xframes);
				div(ypos, frame, xframes);
				Math.floor(ypos);
				mul(xpos, framewidth);
				mul(ypos, frameheight);
				calc(caller.crop, xpos + '|' + ypos + '|' + framewidth + '|' + frameheight);
			  ,
				<!-- stop the interval when the hotspot gets removed -->
				clearinterval(calc('crop_anim_' + caller.name));
			);
		);
	</action>
</krpano>

