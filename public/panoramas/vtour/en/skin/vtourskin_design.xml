<krpano>
	<skin_settings layout_width="100%"
               layout_maxwidth="800"
               controlbar_width="-24"
               controlbar_height="80"
               controlbar_offset="20"
               controlbar_offset_closed="-40"
               controlbar_overlap.no-fractionalscaling="10"
               controlbar_overlap.fractionalscaling="0"
               design_skin_images="i-removebg-preview.png"
               design_bgcolor="0x000000"
               design_bgalpha="0.2"
               design_bgborder="0,0,0,0 0xFFFFFF 1"
               design_bgroundedge="10"
               design_bgshadow="0"
               design_thumbborder_bgborder="0 0xFFFFFF 0.8"
               design_thumbborder_padding="2"
               design_thumbborder_bgroundedge="3"
               design_text_css="color:#FFFFFF; font-family:'Courier New', Courier, monospace; font-size:20px;"
               design_text_shadow="1"
			/>

	<!-- Điều chỉnh thiết kế của một số thành phần skin -->
	<layer name="skin_layer">
		<!-- Loading text with shadow for better visibility -->
		<layer name="skin_loadingtext" width="100%" 
		       css="calc:skin_settings.design_text_css + ' text-align:center; font-size:22px; font-weight:bold;'" 
		       padding="6 8" 
		       textshadow="2" 
		       textshadowrange="1.2" 
		       textshadowangle="90" 
		       textshadowcolor="0x000000" 
		       textshadowalpha="0.8" />

		<!-- Improved Control Bar -->
		<layer name="skin_control_bar" 
		       width="100%" height="50" 
		       bgcolor="0x1A1A1A" 
		       alpha="0.85"
		       roundedge="10"
		       shadow="2 2 8 0x000000 0.5"
		       />
	</layer>

	<!-- Use a fullscreen map -->
	<action name="skin_showmap">
		if(%1 == null, if(layer[skin_map].state == 'closed', set(show,true), set(show,false)); , set(show,%1); );
		mul(mh, layer[skin_scroll_layer].pixelheight, -1);
		if(show,
			tween(layer[skin_thumbs_container].alpha, 0.0, 0.25, default, set(layer[skin_thumbs_container].visible,false));
			set(layer[skin_map].visible, true);
			tween(layer[skin_map].alpha, 1.0, 0.25);
			set(layer[skin_map].state, 'opened');
			sub(hh,area.pixelheight,skin_settings.controlbar_offset);
			sub(hh,layer[skin_control_bar].height);
			add(mh,hh);
			sub(hh,skin_settings.controlbar_overlap);
			copy(layer[skin_map].height, hh);
			tween(layer[skin_scroll_layer].y, get(mh), 0.5, easeOutQuint);
		  ,
		  	if(layer[skin_map].state != 'closed',
				set(layer[skin_map].state, 'closed');
				add(mh, layer[skin_scroll_layer].y_offset);
				tween(layer[skin_map].alpha, 0.0, 0.5, easeOutQuint);
				tween(layer[skin_scroll_layer].y, get(mh), 0.5, easeOutQuint, set(layer[skin_map].visible,false) );
			  );
		  );
	</action>

	<!-- WebVR button style (adjusted to match new design) -->
	<style name="webvr_button_style"
	       border="false"
	       roundedge="10"
	       backgroundcolor="get:skin_settings.design_bgcolor" backgroundalpha="get:skin_settings.design_bgalpha"
	       shadow="2 2 6 0x000000 0.5"
	       css="calc:skin_settings.design_text_css + ' font-size:' + 22*webvr_setup_scale*webvr_button_scale + 'px; font-weight:bold;'"
	       />
</krpano>
